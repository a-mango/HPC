--------------------------------------------------------------------------------
Profile data file '/home/acm/Documents/heig/HPC/lab/dtmf/code/reports/valgrind/dtmf_encdec-fft_callgrind.out' (creator: callgrind-3.25.0)
--------------------------------------------------------------------------------
I1 cache: 
D1 cache: 
LL cache: 
Timerange: Basic block 0 - 209749626
Trigger: Program termination
Profiled target:  /home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft decode output.wav (PID 817152, part 1)
Events recorded:  Ir
Events shown:     Ir
Event sort order: Ir
Thresholds:       99
Include dirs:     
User annotated:   
Auto-annotation:  on

--------------------------------------------------------------------------------
Ir                     
--------------------------------------------------------------------------------
2,037,091,581 (100.0%)  PROGRAM TOTALS

--------------------------------------------------------------------------------
Ir                    file:function
--------------------------------------------------------------------------------
413,014,153 (20.27%)  src/lib/dtmf_common.c:_dtmf_apply_bandpass [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
175,218,178 ( 8.60%)  src/lib/dtmf_common.c:_dtmf_normalize_signal [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
141,361,330 ( 6.94%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5.c:fftw_md5putc [/usr/lib64/libfftw3.so.3.6.10]
136,171,438 ( 6.68%)  src/lib/dtmf_decode_fft.c:fft_detect [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
116,062,848 ( 5.70%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/emmintrin.h:n2fv_64
113,701,632 ( 5.58%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/emmintrin.h:t3fv_32
112,640,226 ( 5.53%)  src/lib/dtmf_common.c:_dtmf_pre_emphasis [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
 88,721,556 ( 4.36%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/s_sin.c:__sincos_fma
 87,609,087 ( 4.30%)  src/lib/dtmf_common.c:_dtmf_calculate_noise_threshold [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
 75,093,495 ( 3.69%)  src/lib/dtmf_common.c:_dtmf_compute_rms [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
 73,822,056 ( 3.62%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/trig.c:real_cexp [/usr/lib64/libfftw3.so.3.6.10]
 42,865,152 ( 2.10%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/fmaintrin.h:t3fv_32
 40,322,304 ( 1.98%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/avxintrin.h:t3fv_32
 37,824,864 ( 1.86%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/s_sincos.c:__sincos_fma [/usr/lib64/libm.so.6]
 36,286,668 ( 1.78%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/twiddle.c:fftw_twiddle_awake [/usr/lib64/libfftw3.so.3.6.10]
 24,701,952 ( 1.21%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../simd-support/simd-avx2-128.h:t3fv_32
 24,060,564 ( 1.18%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/t3fv_32.c:t3fv_32 [/usr/lib64/libfftw3.so.3.6.10]
 23,248,896 ( 1.14%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../simd-support/simd-avx2-128.h:n2fv_64
 21,902,266 ( 1.08%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/avxintrin.h:_dtmf_noise_reduction
 20,972,468 ( 1.03%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/e_hypot.c:hypot@@GLIBC_2.35 [/usr/lib64/libm.so.6]
 18,323,034 ( 0.90%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5-1.c:fftw_md5putb [/usr/lib64/libfftw3.so.3.6.10]
 15,983,616 ( 0.78%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/x86/fpu/fenv_private.h:__sincos_fma
 15,895,232 ( 0.78%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/stride.c:fftw_mkstride [/usr/lib64/libfftw3.so.3.6.10]
 15,644,499 ( 0.77%)  src/lib/dtmf_common.c:_dtmf_noise_reduction [/home/acm/Documents/heig/HPC/lab/dtmf/code/bin/dtmf_encdec-fft]
 14,893,824 ( 0.73%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/fmaintrin.h:n2fv_64
 14,420,812 ( 0.71%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:_mid_memalign.isra.0 [/usr/lib64/libc.so.6]
 12,399,281 ( 0.61%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:free [/usr/lib64/libc.so.6]
 12,271,512 ( 0.60%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/n2fv_64.c:n2fv_64 [/usr/lib64/libfftw3.so.3.6.10]
  8,718,336 ( 0.43%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/avxintrin.h:fft_detect
  7,265,280 ( 0.36%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/trig.c:cexpl_sincos [/usr/lib64/libfftw3.so.3.6.10]
  5,948,626 ( 0.29%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5.c:fftw_md5end [/usr/lib64/libfftw3.so.3.6.10]
  5,812,480 ( 0.29%)  ???:0x00000000049cfc40 [???]
  5,630,592 ( 0.28%)  /usr/lib/gcc/x86_64-redhat-linux/15/include/avxintrin.h:n2fv_64
  5,393,522 ( 0.26%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:_int_malloc [/usr/lib64/libc.so.6]
  5,255,976 ( 0.26%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/mapflags.c:fftw_mapflags [/usr/lib64/libfftw3.so.3.6.10]
  2,906,112 ( 0.14%)  ???:0x00000000049cfab0 [???]
  2,545,776 ( 0.12%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/alloc.c:fftw_malloc_plain [/usr/lib64/libfftw3.so.3.6.10]
  2,429,518 ( 0.12%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c:htab_lookup [/usr/lib64/libfftw3.so.3.6.10]
  2,361,195 ( 0.12%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c:htab_insert [/usr/lib64/libfftw3.so.3.6.10]
  2,061,593 ( 0.10%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:_int_free_create_chunk [/usr/lib64/libc.so.6]
  1,966,709 ( 0.10%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:_int_memalign [/usr/lib64/libc.so.6]
  1,964,107 ( 0.10%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c:mkplan.lto_priv.0'2 [/usr/lib64/libfftw3.so.3.6.10]
  1,963,928 ( 0.10%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c:mkplan.lto_priv.0 [/usr/lib64/libfftw3.so.3.6.10]
  1,867,520 ( 0.09%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/tensor7.c:really_compress [/usr/lib64/libfftw3.so.3.6.10]
  1,849,197 ( 0.09%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:_int_free_merge_chunk [/usr/lib64/libc.so.6]
  1,831,580 ( 0.09%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/dftw-direct.c:mkcldw.lto_priv.0 [/usr/lib64/libfftw3.so.3.6.10]
  1,816,400 ( 0.09%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5-1.c:fftw_md5int [/usr/lib64/libfftw3.so.3.6.10]
  1,764,457 ( 0.09%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:unlink_chunk.isra.0 [/usr/lib64/libc.so.6]
  1,475,840 ( 0.07%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5-1.c:fftw_md5INT [/usr/lib64/libfftw3.so.3.6.10]
  1,464,480 ( 0.07%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/tensor.c:fftw_tensor_md5 [/usr/lib64/libfftw3.so.3.6.10]
  1,437,374 ( 0.07%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/ct.c:mkplan.lto_priv.3 [/usr/lib64/libfftw3.so.3.6.10]
  1,341,348 ( 0.07%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/direct.c:mkplan.lto_priv.4 [/usr/lib64/libfftw3.so.3.6.10]
  1,248,775 ( 0.06%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/problem.c:hash [/usr/lib64/libfftw3.so.3.6.10]
  1,243,263 ( 0.06%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c:hinsert0 [/usr/lib64/libfftw3.so.3.6.10]
  1,055,799 ( 0.05%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/tensor.c:fftw_mktensor [/usr/lib64/libfftw3.so.3.6.10]
    962,004 ( 0.05%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/dl-lookup.c:do_lookup_x [/usr/lib64/ld-linux-x86-64.so.2]
    894,000 ( 0.04%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/kalloc.c:fftw_kernel_malloc [/usr/lib64/libfftw3.so.3.6.10]
    894,000 ( 0.04%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:memalign [/usr/lib64/libc.so.6]
    885,508 ( 0.04%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/problem.c:fftw_mkproblem_dft [/usr/lib64/libfftw3.so.3.6.10]
    857,281 ( 0.04%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c:hgrow [/usr/lib64/libfftw3.so.3.6.10]
    840,085 ( 0.04%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5-1.c:fftw_md5puts [/usr/lib64/libfftw3.so.3.6.10]
    772,004 ( 0.04%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/genus.c:t_okp_t1f.lto_priv.3 [/usr/lib64/libfftw3.so.3.6.10]
    703,858 ( 0.03%)  ???:0x00000000049cf7e0 [???]
    664,254 ( 0.03%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/arena.c:free
    595,980 ( 0.03%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/plan-many-dft.c:fftw_plan_many_dft [/usr/lib64/libfftw3.so.3.6.10]
    545,040 ( 0.03%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/genus.c:n2f_okp.lto_priv.3 [/usr/lib64/libfftw3.so.3.6.10]
    544,960 ( 0.03%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/plan.c:fftw_mkplan [/usr/lib64/libfftw3.so.3.6.10]
    533,544 ( 0.03%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/apiplan.c:fftw_mkapiplan [/usr/lib64/libfftw3.so.3.6.10]
    510,900 ( 0.03%)  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/ops.c:fftw_ops_madd [/usr/lib64/libfftw3.so.3.6.10]
    447,000 ( 0.02%)  ???:0x00000000049cf150 [???]
    447,000 ( 0.02%)  ???:0x00000000049cfc30 [???]

--------------------------------------------------------------------------------
-- Auto-annotated source: src/lib/dtmf_common.c
--------------------------------------------------------------------------------
Ir                   

-- line 190 ----------------------------------------
          .                   buffer = NULL;
          .                   return true;
          .               }
          .           
          .               return false;
          .           }
          .           
          .           char _dtmf_map_presses_to_letter(dtmf_count_t key, dtmf_count_t presses) {
     20,490 ( 0.00%)      for (int i = 0; i < dtmf_table_size; i++) {
     38,150 ( 0.00%)          if (dtmf_table_global[i].key == key && dtmf_table_global[i].presses == presses) {
      1,440 ( 0.00%)              return dtmf_table_global[i].letter;
          .                   }
          .               }
          .           
          .               debug_printf("No matching letter for key %lu with %lu presses", key, presses);
          .               return DTMF_UNKNOWN_SYMBOL;
          .           }
          .           
          1 ( 0.00%)  static dtmf_float_t _dtmf_compute_rms(const dtmf_float_t *buffer, dtmf_count_t const count) {
          .               assert(buffer != NULL);
          .           
          1 ( 0.00%)      dtmf_float_t sum_squares = 0.0;
          .           
 37,546,744 ( 1.84%)      for (size_t i = 0; i < count; i++) {
 37,546,740 ( 1.84%)          sum_squares += buffer[i] * buffer[i];
          .               }
          .           
          7 ( 0.00%)      return sqrt(sum_squares / (dtmf_float_t)count);
          8 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/w_sqrt_compat.c:sqrt (1x)
          2 ( 0.00%)  }
          .           
          .           static void _dtmf_noise_reduction(dtmf_float_t *buffer,
          .                                             dtmf_count_t  count,
          9 ( 0.00%)                                    dtmf_float_t  threshold_factor) {
          .               assert(buffer != NULL);
          .           
          1 ( 0.00%)      dtmf_float_t rms       = _dtmf_compute_rms(buffer, count);
 75,093,503 ( 3.69%)  => src/lib/dtmf_common.c:_dtmf_compute_rms (1x)
          1 ( 0.00%)      dtmf_float_t threshold = rms * threshold_factor;
          .           
          .               const __m256d abs_mask = _mm256_castsi256_pd(_mm256_set1_epi64x(0x7FFFFFFFFFFFFFFFULL));
          .               const __m256d thr_v    = _mm256_set1_pd(threshold);
          1 ( 0.00%)      size_t        i        = 0;
          .               // Vectorized loop 4 samples at a time
 12,515,585 ( 0.61%)      for (; i + 3 < count; i += 4) {
  3,128,895 ( 0.15%)          __m256d v     = _mm256_loadu_pd(&buffer[i]);              // Load
          .                   __m256d abs_v = _mm256_and_pd(v, abs_mask);               // |v| = v & abs_mask
          .                   __m256d m     = _mm256_cmp_pd(abs_v, thr_v, _CMP_LT_OS);  // mask = (abs_v < threshold)
          .                   __m256d zero  = _mm256_setzero_pd();
          .                   __m256d res   = _mm256_blendv_pd(v, zero, m);  // blend to 0 or keep v
          .                   _mm256_storeu_pd(&buffer[i], res);             // store
          .               }
          .           
          2 ( 0.00%)      for (; i < count; ++i) {
          .                   if (fabs(buffer[i]) < threshold) {
          .                       buffer[i] = 0.0;
          .                   }
          .               }
          .           
          .               debug_printf("Noise reduction applied with dynamic threshold %f (RMS: %f, factor: %f)",
          .                            threshold, rms, threshold_factor);
          5 ( 0.00%)  }
          .           
          .           static void _dtmf_normalize_signal(dtmf_float_t *buffer, dtmf_count_t const count) {
          1 ( 0.00%)      dtmf_float_t max = 0.0;
          .               // Find maximum absolute value
 37,546,744 ( 1.84%)      for (dtmf_count_t i = 0; i < count; i++) {
 50,062,320 ( 2.46%)          if (fabs(buffer[i]) > max)
         46 ( 0.00%)              max = fabs(buffer[i]);
          .               }
          .               // Normalize if max is not zero
          2 ( 0.00%)      if (max > 0.0001) {
 37,546,744 ( 1.84%)          for (dtmf_count_t i = 0; i < count; i++) {
 50,062,320 ( 2.46%)              buffer[i] /= max;
          .                   }
          .               }
          1 ( 0.00%)  }
          .           
          .           static void _dtmf_apply_bandpass(dtmf_float_t *buffer, dtmf_count_t const count) {
          .               // IIR bandpass filter coefficients for 44100 Hz sample rate with some tolerance
          .               const dtmf_float_t b0 = 0.0032981, b1 = 0.0, b2 = -0.00659619, b3 = 0.0, b4 = 0.0032981;
          .               const dtmf_float_t a1 = -3.79262674, a2 = 5.43304806, a3 = -3.48434686, a4 = 0.84429627;
          8 ( 0.00%)      dtmf_float_t       x1 = 0, x2 = 0, x3 = 0, x4 = 0, y1 = 0, y2 = 0, y3 = 0, y4 = 0, y;
          .           
 37,546,744 ( 1.84%)      for (dtmf_count_t i = 0; i < count; i++) {
262,827,180 (12.90%)          y         = b0 * buffer[i] + b1 * x1 + b2 * x2 + b3 * x3 + b4 * x4 - a1 * y1 - a2 * y2 - a3 * y3 - a4 * y4;
 12,515,580 ( 0.61%)          x4        = x3;
 12,515,580 ( 0.61%)          x3        = x2;
 12,515,580 ( 0.61%)          x2        = x1;
 12,515,580 ( 0.61%)          x1        = buffer[i];
 12,515,580 ( 0.61%)          y4        = y3;
 12,515,580 ( 0.61%)          y3        = y2;
 12,515,580 ( 0.61%)          y2        = y1;
 12,515,580 ( 0.61%)          y1        = y;
 12,515,580 ( 0.61%)          buffer[i] = y;
          .               }
          1 ( 0.00%)  }
          .           
          2 ( 0.00%)  static dtmf_float_t _dtmf_calculate_noise_threshold(dtmf_float_t const *buffer, dtmf_count_t const count, dtmf_float_t const threshold_factor) {
          1 ( 0.00%)      dtmf_float_t sum    = 0.0;
          1 ( 0.00%)      dtmf_float_t sum_sq = 0.0;
 37,546,744 ( 1.84%)      for (dtmf_count_t i = 0; i < count; i++) {
 25,031,160 ( 1.23%)          sum += buffer[i];
 25,031,160 ( 1.23%)          sum_sq += buffer[i] * buffer[i];
          .               }
          5 ( 0.00%)      dtmf_float_t mean     = sum / (dtmf_float_t)count;
          4 ( 0.00%)      dtmf_float_t variance = (sum_sq / (dtmf_float_t)count) - (mean * mean);
          6 ( 0.00%)      dtmf_float_t stddev   = sqrt(variance);
        672 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
          8 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/w_sqrt_compat.c:sqrt (1x)
          2 ( 0.00%)      return mean + threshold_factor * stddev;
          2 ( 0.00%)  }
          .           
          .           static void _dtmf_pre_emphasis(dtmf_float_t *buffer, dtmf_count_t const count) {
          .               const dtmf_float_t alpha = 0.95;
          1 ( 0.00%)      dtmf_float_t       prev  = 0.0;
          .           
 37,546,744 ( 1.84%)      for (dtmf_count_t i = 0; i < count; i++) {
 25,031,160 ( 1.23%)          dtmf_float_t current = buffer[i];
 37,546,740 ( 1.84%)          buffer[i]            = buffer[i] - alpha * prev;
 12,515,580 ( 0.61%)          prev                 = current;
          .               }
          1 ( 0.00%)  }
          .           
          5 ( 0.00%)  void _dtmf_preprocess_buffer(dtmf_float_t *buffer, dtmf_count_t frame_count, dtmf_float_t const threshold_factor) {
          .               LIKWID_MARKER_START("decode-preprocess");
          .           
          1 ( 0.00%)      dtmf_float_t const noise_threshold = _dtmf_calculate_noise_threshold(buffer, frame_count, threshold_factor);
 87,609,767 ( 4.30%)  => src/lib/dtmf_common.c:_dtmf_calculate_noise_threshold (1x)
          3 ( 0.00%)      _dtmf_noise_reduction(buffer, frame_count, noise_threshold);
112,640,268 ( 5.53%)  => src/lib/dtmf_common.c:_dtmf_noise_reduction (1x)
          3 ( 0.00%)      _dtmf_normalize_signal(buffer, frame_count);
175,218,178 ( 8.60%)  => src/lib/dtmf_common.c:_dtmf_normalize_signal (1x)
          3 ( 0.00%)      _dtmf_apply_bandpass(buffer, frame_count);
413,014,153 (20.27%)  => src/lib/dtmf_common.c:_dtmf_apply_bandpass (1x)
          3 ( 0.00%)      _dtmf_pre_emphasis(buffer, frame_count);
112,640,226 ( 5.53%)  => src/lib/dtmf_common.c:_dtmf_pre_emphasis (1x)
          .           
          .               LIKWID_MARKER_STOP("decode-preprocess");
          4 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: src/lib/dtmf_decode_fft.c
--------------------------------------------------------------------------------
Ir                  

-- line 25 ----------------------------------------
         .           #define DTMF_PREPROCESS_THRESHOLD_FACTOR 1.1
         .           
         .           // One‐time buffers aligned for AVX2
         .           static dtmf_float_t buff_real[DTMF_FFT_SIZE] __attribute__((aligned(32)));
         .           static dtmf_float_t hanning_window[DTMF_FFT_SIZE] __attribute__((aligned(32)));
         .           static bool         window_initialized = false;
         .           
         .           // Build the Hanning window table once
         1 ( 0.00%)  static void init_hanning_window(void) {
     6,148 ( 0.00%)      for (int i = 0; i < DTMF_FFT_SIZE; ++i) {
         .                   // original uses M_2_PI == 2/π
    22,532 ( 0.00%)          hanning_window[i] = (dtmf_float_t)0.5 * (1.0 - cos(M_2_PI * i / (DTMF_FFT_SIZE - 1)));
   180,705 ( 0.01%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/s_sin.c:__cos_fma (2,048x)
       713 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
         .               }
         1 ( 0.00%)      window_initialized = true;
         2 ( 0.00%)  }
         .           
         .           static int fft_detect(dtmf_float_t const *samples,
         .                                 dtmf_count_t        num_samples,
    85,140 ( 0.00%)                        dtmf_float_t        sample_rate) {
         .               assert(samples != NULL);
    11,352 ( 0.00%)      if (!window_initialized) {
         2 ( 0.00%)          init_hanning_window();
   210,102 ( 0.01%)  => src/lib/dtmf_decode_fft.c:init_hanning_window (1x)
         .               }
         .           
         .               // Allocate FFTW buffers
    22,708 ( 0.00%)      fftw_complex *in  = fftw_malloc(sizeof(*in) * DTMF_FFT_SIZE);
 3,717,628 ( 0.18%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/malloc.c:fftw_malloc (5,676x)
       789 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
    22,704 ( 0.00%)      fftw_complex *out = fftw_malloc(sizeof(*out) * DTMF_FFT_SIZE);
 3,331,625 ( 0.16%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/malloc.c:fftw_malloc (5,676x)
    45,412 ( 0.00%)      fftw_plan     p   = fftw_plan_dft_1d(DTMF_FFT_SIZE, in, out,
530,914,318 (26.06%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/plan-dft-1d.c:fftw_plan_dft_1d (5,676x)
       787 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
         .                                                    FFTW_FORWARD, FFTW_ESTIMATE);
         .           
     5,676 ( 0.00%)      int          detected_key  = -1;
     5,676 ( 0.00%)      dtmf_float_t max_magnitude = 0;
         .           
         .               // Apply Hanning window with AVX2
         .               LIKWID_MARKER_START("decode-fft-hanning");
         .               {
         .                   // Sample count
    22,704 ( 0.00%)          size_t valid = (num_samples < DTMF_FFT_SIZE)
         .                                      ? (size_t)num_samples
         .                                      : (size_t)DTMF_FFT_SIZE;
     5,676 ( 0.00%)          size_t i     = 0;
         .           
         .                   // Vectorized multiply of 4 doubles at a time
11,652,828 ( 0.57%)          for (; i + 3 < valid; i += 4) {
         .                       __m256d samp = _mm256_loadu_pd(&samples[i]);
         .                       __m256d wind = _mm256_load_pd(&hanning_window[i]);
         .                       __m256d prod = _mm256_mul_pd(samp, wind);
         .                       _mm256_store_pd(&buff_real[i], prod);
         .                   }
         .           
         .                   // Remainder of valid region
    17,028 ( 0.00%)          for (; i < valid; ++i) {
         .                       buff_real[i] = samples[i] * hanning_window[i];
         .                   }
         .           
         .                   // Zero‐pad remainder up to FFT size
    11,352 ( 0.00%)          for (; i < DTMF_FFT_SIZE; ++i) {
         .                       buff_real[i] = 0.0;
         .                   }
         .           
         .                   // Pack into FFTW complex array
34,896,048 ( 1.71%)          for (int idx = 0; idx < DTMF_FFT_SIZE; ++idx) {
69,746,688 ( 3.42%)              in[idx][0] = buff_real[idx];
11,624,448 ( 0.57%)              in[idx][1] = 0.0;
         .                   }
         .               }
         .               LIKWID_MARKER_STOP("decode-fft-hanning");
         .           
         .               // Execute FFT
    17,032 ( 0.00%)      fftw_execute(p);
418,309,848 (20.53%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/execute.c:fftw_execute (5,676x)
       779 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
         .           
         .               // Frequency‐bin magnitude detection
         .               LIKWID_MARKER_START("decode-fft-magnitude");
   227,040 ( 0.01%)      for (int key = 0; key < DTMF_NUM_TONES; ++key) {
   136,224 ( 0.01%)          dtmf_float_t low_freq  = DTMF_FREQUENCIES_MAP[key].low;
         .                   dtmf_float_t high_freq = DTMF_FREQUENCIES_MAP[key].high;
   340,560 ( 0.02%)          int          low_idx   = (int)(low_freq * DTMF_FFT_SIZE / sample_rate);
   204,336 ( 0.01%)          int          high_idx  = (int)(high_freq * DTMF_FFT_SIZE / sample_rate);
         .           
    68,112 ( 0.00%)          dtmf_float_t magnitude = 0.0;
   885,456 ( 0.04%)          for (int d = -1; d <= 1; ++d) {
   204,336 ( 0.01%)              int li = low_idx + d;
   204,336 ( 0.01%)              int hi = high_idx + d;
   408,672 ( 0.02%)              if (li >= 0 && li < DTMF_FFT_SIZE)
 2,247,700 ( 0.11%)                  magnitude += hypot(out[li][0], out[li][1]);
10,491,468 ( 0.52%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/e_hypot.c:hypot@@GLIBC_2.35 (204,336x)
       796 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
   408,672 ( 0.02%)              if (hi >= 0 && hi < DTMF_FFT_SIZE)
 2,247,696 ( 0.11%)                  magnitude += hypot(out[hi][0], out[hi][1]);
10,481,000 ( 0.51%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/e_hypot.c:hypot@@GLIBC_2.35 (204,336x)
         .                   }
         .           
   204,336 ( 0.01%)          if (magnitude > max_magnitude) {
    14,235 ( 0.00%)              max_magnitude = magnitude;
    42,705 ( 0.00%)              detected_key  = key + 1;
         .                   }
         .               }
         .               LIKWID_MARKER_STOP("decode-fft-magnitude");
         .           
         .               // Clean up
    17,032 ( 0.00%)      fftw_destroy_plan(p);
 8,309,664 ( 0.41%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/apiplan.c:fftw_destroy_plan (5,676x)
       808 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
    17,032 ( 0.00%)      fftw_free(in);
 1,191,957 ( 0.06%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/malloc.c:fftw_free (5,676x)
       712 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
    17,028 ( 0.00%)      fftw_free(out);
 1,436,019 ( 0.07%)  => /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/malloc.c:fftw_free (5,676x)
         .           
         .               // Noise threshold check
    17,028 ( 0.00%)      if (max_magnitude < DTMF_FFT_NOISE_THRESHOLD) {
     3,992 ( 0.00%)          return DTMF_DETECT_KEY_INVALID;
         .               }
         .               return detected_key;
    62,436 ( 0.00%)  }
         .           
         .           bool dtmf_decode(dtmf_float_t *dtmf_buffer,
         .                            dtmf_count_t  frame_count,
         .                            char        **out_message,
        12 ( 0.00%)                   dtmf_count_t *out_chars_read) {
         .               assert(dtmf_buffer != NULL);
         .               assert(frame_count > 0);
         .               assert(out_message != NULL);
         .               assert(out_chars_read != NULL);
         .           
         .               DTMF_DEBUG("Decoding DTMF signal using FFT...");
         .               LIKWID_MARKER_START("decode-fft");
         .           
         .               // Preprocess
         2 ( 0.00%)      _dtmf_preprocess_buffer(dtmf_buffer,
901,122,614 (44.24%)  => /home/acm/Documents/heig/HPC/lab/dtmf/code/src/lib/dtmf_common.c:_dtmf_preprocess_buffer (1x)
         .                                       frame_count,
         .                                       DTMF_PREPROCESS_THRESHOLD_FACTOR);
         .           
         2 ( 0.00%)      dtmf_count_t buffer_read_ptr   = 0;
         .               dtmf_count_t chunk_size        = DTMF_TONE_REPEAT_NUM_SAMPLES;
         1 ( 0.00%)      dtmf_count_t message_length    = 0;
         1 ( 0.00%)      int          last_detected_key = -1;
         1 ( 0.00%)      dtmf_count_t chunks_seen       = 0;
         1 ( 0.00%)      dtmf_count_t repetitions       = 0;
         1 ( 0.00%)      dtmf_count_t pause_repetitions = 0;
         2 ( 0.00%)      dtmf_count_t max_message_length =
         4 ( 0.00%)          frame_count / (DTMF_TONE_NUM_SAMPLES + DTMF_TONE_PAUSE_NUM_SAMPLES) + 1;
         .           
         9 ( 0.00%)      *out_message = calloc(max_message_length + 1, sizeof(char));
       794 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
       557 ( 0.00%)  => /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c:calloc (1x)
         2 ( 0.00%)      if (*out_message == NULL) {
         .                   fprintf(stderr,
         .                           "Error: Could not allocate memory for output message\n");
         .                   LIKWID_MARKER_STOP("decode-fft");
         .                   return false;
         .               }
         .           
         .               LIKWID_MARKER_START("decode-fft-mainloop");
    11,354 ( 0.00%)      while (buffer_read_ptr < frame_count) {
    39,732 ( 0.00%)          int detected_key = fft_detect(dtmf_buffer + buffer_read_ptr,
1,133,288,074 (55.63%)  => src/lib/dtmf_decode_fft.c:fft_detect (5,676x)
    11,352 ( 0.00%)                                        (frame_count - buffer_read_ptr < chunk_size)
         .                                                     ? frame_count - buffer_read_ptr
         .                                                     : chunk_size,
         .                                                 DTMF_SAMPLE_RATE_HZ);
         .           
    11,352 ( 0.00%)          if (detected_key != DTMF_DETECT_KEY_INVALID) {
    14,720 ( 0.00%)              if (pause_repetitions < DTMF_MIN_PAUSE_BEFORE_NEW_TONE &&
    14,000 ( 0.00%)                  last_detected_key != -1 &&
         .                           detected_key != last_detected_key) {
         .                           // Reject fast switch between tones
         .                           detected_key = last_detected_key;
         .                       }
         .           
     7,360 ( 0.00%)              if (last_detected_key == -1) {
         .                           last_detected_key = detected_key;
       720 ( 0.00%)                  chunks_seen       = 1;
     6,640 ( 0.00%)              } else if (last_detected_key == detected_key) {
     6,640 ( 0.00%)                  chunks_seen++;
         .                       } else {
         .                           last_detected_key = detected_key;
         .                           chunks_seen       = 1;
         .                       }
     7,000 ( 0.00%)              pause_repetitions = 0;
         .                   } else {
     1,996 ( 0.00%)              pause_repetitions++;
     3,992 ( 0.00%)              if (chunks_seen >= 2) {
       919 ( 0.00%)                  repetitions++;
       919 ( 0.00%)                  chunks_seen = 0;
         .                       }
    11,976 ( 0.00%)              if (pause_repetitions >= 3 && last_detected_key != -1) {
         .                           char letter =
     1,077 ( 0.00%)                      _dtmf_map_presses_to_letter((dtmf_count_t)last_detected_key,
    59,822 ( 0.00%)  => /home/acm/Documents/heig/HPC/lab/dtmf/code/src/lib/dtmf_common.c:_dtmf_map_presses_to_letter (359x)
         .                                                           repetitions);
         .                           debug_printf("Detected letter %c", letter);
     1,436 ( 0.00%)                  if (message_length < max_message_length) {
     2,154 ( 0.00%)                      (*out_message)[message_length++] = letter;
         .                           }
       359 ( 0.00%)                  pause_repetitions = 0;
       359 ( 0.00%)                  repetitions       = 0;
     1,078 ( 0.00%)                  chunks_seen       = 0;
       359 ( 0.00%)                  last_detected_key = -1;
         .                       }
         .                   }
         .           
         .                   // Final‐chunk edge‐case
    17,030 ( 0.00%)          if (buffer_read_ptr + chunk_size >= frame_count &&
         .                       last_detected_key != -1) {
         2 ( 0.00%)              if (chunks_seen >= 2)
         1 ( 0.00%)                  repetitions++;
         .                       char letter =
         3 ( 0.00%)                  _dtmf_map_presses_to_letter((dtmf_count_t)last_detected_key,
       258 ( 0.00%)  => /home/acm/Documents/heig/HPC/lab/dtmf/code/src/lib/dtmf_common.c:_dtmf_map_presses_to_letter (1x)
         .                                                       repetitions);
         .                       debug_printf("Detected letter %c", letter);
         4 ( 0.00%)              if (message_length < max_message_length) {
         7 ( 0.00%)                  (*out_message)[message_length++] = letter;
         .                       }
         .                   }
         .           
         .                   buffer_read_ptr += chunk_size;
         .               }
         .               LIKWID_MARKER_STOP("decode-fft-mainloop");
         .           
         3 ( 0.00%)      *out_chars_read = message_length;
         .               LIKWID_MARKER_STOP("decode-fft");
         .           
         .               DTMF_DEBUG("Message successfully decoded.");
         .               DTMF_SUCCEED();
         .               return true;
         9 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: /usr/lib/gcc/x86_64-redhat-linux/15/include/emmintrin.h
--------------------------------------------------------------------------------
Ir                  

-- line 244 ----------------------------------------
         .           {
         .             return ((__v2di)__A)[0];
         .           }
         .           #endif
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_add_pd (__m128d __A, __m128d __B)
         .           {
91,360,896 ( 4.48%)    return (__m128d) ((__v2df)__A + (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_add_sd (__m128d __A, __m128d __B)
         .           {
         .             return (__m128d)__builtin_ia32_addsd ((__v2df)__A, (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_sub_pd (__m128d __A, __m128d __B)
         .           {
86,093,568 ( 4.23%)    return (__m128d) ((__v2df)__A - (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_sub_sd (__m128d __A, __m128d __B)
         .           {
         .             return (__m128d)__builtin_ia32_subsd ((__v2df)__A, (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_mul_pd (__m128d __A, __m128d __B)
         .           {
39,777,408 ( 1.95%)    return (__m128d) ((__v2df)__A * (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_mul_sd (__m128d __A, __m128d __B)
         .           {
         .             return (__m128d)__builtin_ia32_mulsd ((__v2df)__A, (__v2df)__B);
         .           }
         .           
-- line 284 ----------------------------------------
-- line 348 ----------------------------------------
         .           _mm_or_pd (__m128d __A, __m128d __B)
         .           {
         .             return (__m128d)__builtin_ia32_orpd ((__v2df)__A, (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_xor_pd (__m128d __A, __m128d __B)
         .           {
12,532,608 ( 0.62%)    return (__m128d)__builtin_ia32_xorpd ((__v2df)__A, (__v2df)__B);
         .           }
         .           
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_cmpeq_pd (__m128d __A, __m128d __B)
         .           {
         .             return (__m128d)__builtin_ia32_cmpeqpd ((__v2df)__A, (__v2df)__B);
         .           }
         .           
-- line 364 ----------------------------------------

--------------------------------------------------------------------------------
-- Auto-annotated source: /usr/lib/gcc/x86_64-redhat-linux/15/include/avxintrin.h
--------------------------------------------------------------------------------
Ir                  

-- line 144 ----------------------------------------
         .           {
         .             return (__m256) __builtin_ia32_addsubps256 ((__v8sf)__A, (__v8sf)__B);
         .           }
         .           
         .           
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_and_pd (__m256d __A, __m256d __B)
         .           {
 6,257,790 ( 0.31%)    return (__m256d) __builtin_ia32_andpd256 ((__v4df)__A, (__v4df)__B);
         .           }
         .           
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_and_ps (__m256 __A, __m256 __B)
         .           {
         .             return (__m256) __builtin_ia32_andps256 ((__v8sf)__A, (__v8sf)__B);
         .           }
         .           
-- line 160 ----------------------------------------
-- line 197 ----------------------------------------
         .           #define _mm256_blend_ps(X, Y, M)					\
         .             ((__m256) __builtin_ia32_blendps256 ((__v8sf)(__m256)(X),		\
         .           				       (__v8sf)(__m256)(Y), (int)(M)))
         .           #endif
         .           
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_blendv_pd (__m256d __X, __m256d __Y, __m256d __M)
         .           {
 6,257,790 ( 0.31%)    return (__m256d) __builtin_ia32_blendvpd256 ((__v4df)__X,
         .           					       (__v4df)__Y,
         .           					       (__v4df)__M);
         .           }
         .           
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_blendv_ps (__m256 __X, __m256 __Y, __m256 __M)
         .           {
         .             return (__m256) __builtin_ia32_blendvps256 ((__v8sf)__X,
-- line 213 ----------------------------------------
-- line 290 ----------------------------------------
         .           _mm256_min_ps (__m256 __A, __m256 __B)
         .           {
         .             return (__m256) __builtin_ia32_minps256 ((__v8sf)__A, (__v8sf)__B);
         .           }
         .           
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_mul_pd (__m256d __A, __m256d __B)
         .           {
 2,906,112 ( 0.14%)    return (__m256d) ((__v4df)__A * (__v4df)__B);
         .           }
         .           
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_mul_ps (__m256 __A, __m256 __B)
         .           {
         .             return (__m256) ((__v8sf)__A * (__v8sf)__B);
         .           }
         .           
-- line 306 ----------------------------------------
-- line 363 ----------------------------------------
         .           {
         .             return (__m256) __builtin_ia32_xorps256 ((__v8sf)__A, (__v8sf)__B);
         .           }
         .           
         .           #ifdef __OPTIMIZE__
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_cmp_pd (__m256d __X, __m256d __Y, const int __P)
         .           {
 3,128,895 ( 0.15%)    return (__m256d) __builtin_ia32_cmppd256 ((__v4df)__X, (__v4df)__Y,
         .           					    __P);
         .           }
         .           
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_cmp_ps (__m256 __X, __m256 __Y, const int __P)
         .           {
         .             return (__m256) __builtin_ia32_cmpps256 ((__v8sf)__X, (__v8sf)__Y,
         .           					   __P);
-- line 379 ----------------------------------------
-- line 588 ----------------------------------------
         .             return (__m256) __builtin_ia32_vpermilvarps256 ((__v8sf)__A,
         .           						  (__v8si)__C);
         .           }
         .           
         .           #ifdef __OPTIMIZE__
         .           extern __inline __m128d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_permute_pd (__m128d __X, const int __C)
         .           {
45,952,896 ( 2.26%)    return (__m128d) __builtin_ia32_vpermilpd ((__v2df)__X, __C);
         .           }
         .           
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_permute_pd (__m256d __X, const int __C)
         .           {
         .             return (__m256d) __builtin_ia32_vpermilpd256 ((__v4df)__X, __C);
         .           }
         .           
-- line 604 ----------------------------------------
-- line 805 ----------------------------------------
         .                 _mm256_insertf128_si256 ((X), __Y, (N) >> 1);			\
         .               }))
         .           #endif
         .           #endif
         .           
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_load_pd (double const *__P)
         .           {
 2,906,112 ( 0.14%)    return *(__m256d *)__P;
         .           }
         .           
         .           extern __inline void __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_store_pd (double *__P, __m256d __A)
         .           {
 2,906,112 ( 0.14%)    *(__m256d *)__P = __A;
         .           }
         .           
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_load_ps (float const *__P)
         .           {
         .             return *(__m256 *)__P;
         .           }
         .           
-- line 827 ----------------------------------------
-- line 829 ----------------------------------------
         .           _mm256_store_ps (float *__P, __m256 __A)
         .           {
         .             *(__m256 *)__P = __A;
         .           }
         .           
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_loadu_pd (double const *__P)
         .           {
 3,128,895 ( 0.15%)    return *(__m256d_u *)__P;
         .           }
         .           
         .           extern __inline void __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_storeu_pd (double *__P, __m256d __A)
         .           {
 3,128,895 ( 0.15%)    *(__m256d_u *)__P = __A;
         .           }
         .           
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_loadu_ps (float const *__P)
         .           {
         .             return *(__m256_u *)__P;
         .           }
         .           
-- line 851 ----------------------------------------
-- line 1258 ----------------------------------------
         .           {
         .             return __extension__ (__m256i)(__v4di){ __D, __C, __B, __A };
         .           }
         .           
         .           /* Create a vector with all elements equal to A.  */
         .           extern __inline __m256d __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_set1_pd (double __A)
         .           {
         1 ( 0.00%)    return __extension__ (__m256d){ __A, __A, __A, __A };
         .           }
         .           
         .           /* Create a vector with all elements equal to A.  */
         .           extern __inline __m256 __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_set1_ps (float __A)
         .           {
         .             return __extension__ (__m256){ __A, __A, __A, __A,
         .           				 __A, __A, __A, __A };
-- line 1274 ----------------------------------------

--------------------------------------------------------------------------------
-- Auto-annotated source: /usr/lib/gcc/x86_64-redhat-linux/15/include/fmaintrin.h
--------------------------------------------------------------------------------
Ir                  

-- line 33 ----------------------------------------
         .           #pragma GCC target("fma")
         .           #define __DISABLE_FMA__
         .           #endif /* __FMA__ */
         .           
         .           extern __inline __m128d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_fmadd_pd (__m128d __A, __m128d __B, __m128d __C)
         .           {
11,987,712 ( 0.59%)    return (__m128d)__builtin_ia32_vfmaddpd ((__v2df)__A, (__v2df)__B,
         .                                                      (__v2df)__C);
         .           }
         .           
         .           extern __inline __m256d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_fmadd_pd (__m256d __A, __m256d __B, __m256d __C)
         .           {
         .             return (__m256d)__builtin_ia32_vfmaddpd256 ((__v4df)__A, (__v4df)__B,
-- line 49 ----------------------------------------
-- line 129 ----------------------------------------
         .             return (__m128)__builtin_ia32_vfmsubss3 ((__v4sf)__A, (__v4sf)__B,
         .                                                      (__v4sf)__C);
         .           }
         .           
         .           extern __inline __m128d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_fnmadd_pd (__m128d __A, __m128d __B, __m128d __C)
         .           {
11,987,712 ( 0.59%)    return (__m128d)__builtin_ia32_vfnmaddpd ((__v2df)__A, (__v2df)__B,
         .           					    (__v2df)__C);
         .           }
         .           
         .           extern __inline __m256d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_fnmadd_pd (__m256d __A, __m256d __B, __m256d __C)
         .           {
         .             return (__m256d)__builtin_ia32_vfnmaddpd256 ((__v4df)__A, (__v4df)__B,
-- line 145 ----------------------------------------
-- line 225 ----------------------------------------
         .             return (__m128)__builtin_ia32_vfnmsubss3 ((__v4sf)__A, (__v4sf)__B,
         .           					    (__v4sf)__C);
         .           }
         .           
         .           extern __inline __m128d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_fmaddsub_pd (__m128d __A, __m128d __B, __m128d __C)
         .           {
 5,812,224 ( 0.29%)    return (__m128d)__builtin_ia32_vfmaddsubpd ((__v2df)__A, (__v2df)__B,
         .                                                         (__v2df)__C);
         .           }
         .           
         .           extern __inline __m256d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_fmaddsub_pd (__m256d __A, __m256d __B, __m256d __C)
         .           {
         .             return (__m256d)__builtin_ia32_vfmaddsubpd256 ((__v4df)__A,
-- line 241 ----------------------------------------
-- line 259 ----------------------------------------
         .                                                           (__v8sf)__B,
         .                                                           (__v8sf)__C);
         .           }
         .           
         .           extern __inline __m128d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm_fmsubadd_pd (__m128d __A, __m128d __B, __m128d __C)
         .           {
27,971,328 ( 1.37%)    return (__m128d)__builtin_ia32_vfmaddsubpd ((__v2df)__A, (__v2df)__B,
         .                                                         -(__v2df)__C);
         .           }
         .           
         .           extern __inline __m256d
         .           __attribute__((__gnu_inline__, __always_inline__, __artificial__))
         .           _mm256_fmsubadd_pd (__m256d __A, __m256d __B, __m256d __C)
         .           {
         .             return (__m256d)__builtin_ia32_vfmaddsubpd256 ((__v4df)__A,
-- line 275 ----------------------------------------

--------------------------------------------------------------------------------
The following files chosen for auto-annotation could not be found:
--------------------------------------------------------------------------------
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/apiplan.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/mapflags.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/api/../../api/plan-many-dft.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/ct.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/dftw-direct.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/direct.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/../../dft/problem.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/genus.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/n2fv_64.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../dft/simd/avx2-128/../common/t3fv_32.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/dft/simd/avx2-128/../../../../simd-support/simd-avx2-128.h
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/alloc.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/kalloc.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5-1.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/md5.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/ops.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/plan.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/planner.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/stride.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/tensor.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/tensor7.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/trig.c
  /usr/src/debug/fftw-3.3.10-15.fc42.x86_64/double/kernel/../../kernel/twiddle.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/elf/dl-lookup.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/arena.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/malloc/malloc.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/e_hypot.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/s_sin.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/ieee754/dbl-64/s_sincos.c
  /usr/src/debug/glibc-2.41-5.fc42.x86_64/math/../sysdeps/x86/fpu/fenv_private.h

--------------------------------------------------------------------------------
Ir                     
--------------------------------------------------------------------------------
1,379,751,407 (67.73%)  events annotated

