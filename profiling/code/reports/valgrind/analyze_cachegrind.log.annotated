--------------------------------------------------------------------------------
-- Metadata
--------------------------------------------------------------------------------
Invocation:       /usr/bin/cg_annotate /home/acm/Documents/heig/HPC/lab/profiling/code/valgrind_data/analyze_cachegrind.out
Command:          /home/acm/Documents/heig/HPC/lab/profiling/code/src/build/analyze
Events recorded:  Ir
Events shown:     Ir
Event sort order: Ir
Threshold:        0.1%
Annotation:       on

--------------------------------------------------------------------------------
-- Summary
--------------------------------------------------------------------------------
Ir__________________ 

774,857,421 (100.0%)  PROGRAM TOTALS

--------------------------------------------------------------------------------
-- File:function summary
--------------------------------------------------------------------------------
  Ir________________________  file:function

< 455,320,888 (58.8%, 58.8%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strcmp-avx2.S:__strcmp_avx2

< 209,948,645 (27.1%, 85.9%)  /home/acm/Documents/heig/HPC/lab/profiling/code/src/main.c:
  209,945,585 (27.1%)           main

<  51,823,232  (6.7%, 92.5%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/strtod_l.c:
   35,288,117  (4.6%)           ____strtod_l_internal
   10,919,687  (1.4%)           str_to_mpn.part.0.constprop.0
    5,615,428  (0.7%)           round_and_return

<  21,977,128  (2.8%, 95.4%)  ???:
   21,977,116  (2.8%)           ???

<   6,210,839  (0.8%, 96.2%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iogetline.c:
    5,910,836  (0.8%)           _IO_getline_info

<   5,600,051  (0.7%, 96.9%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iofgets.c:fgets

<   4,919,831  (0.6%, 97.5%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:
    3,671,879  (0.5%)           __memcpy_avx_unaligned_erms

<   4,466,000  (0.6%, 98.1%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/x86_64/lshift.S:__mpn_lshift

<   2,147,103  (0.3%, 98.4%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strchr-avx2.S:
    2,100,021  (0.3%)           __strchr_avx2

<   1,912,708  (0.2%, 98.6%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memchr-avx2.S:__memchr_avx2

<   1,598,272  (0.2%, 98.8%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/ieee754/dbl-64/mpn2dbl.c:__mpn_construct_double

<   1,428,924  (0.2%, 99.0%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strlen-avx2.S:__strlen_avx2

<   1,205,613  (0.2%, 99.2%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/libioP.h:
    1,200,011  (0.2%)           fgets

<   1,198,704  (0.2%, 99.3%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../include/rounding-mode.h:round_away

<     998,920  (0.1%, 99.5%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/generic/get-rounding-mode.h:round_and_return

<     803,613  (0.1%, 99.6%)  /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../string/bits/string_fortified.h:
      799,930  (0.1%)           ____strtod_l_internal

--------------------------------------------------------------------------------
-- Function:file summary
--------------------------------------------------------------------------------
  Ir________________________  function:file

> 455,320,888 (58.8%, 58.8%)  __strcmp_avx2:/usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strcmp-avx2.S

> 209,945,585 (27.1%, 85.9%)  main:/home/acm/Documents/heig/HPC/lab/profiling/code/src/main.c

>  36,088,047  (4.7%, 90.5%)  ____strtod_l_internal:
   35,288,117  (4.6%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/strtod_l.c
      799,930  (0.1%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../string/bits/string_fortified.h

>  22,689,092  (2.9%, 93.4%)  ???:
   21,977,116  (2.8%)           ???

>  10,919,687  (1.4%, 94.9%)  str_to_mpn.part.0.constprop.0:/usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/strtod_l.c

>   6,800,062  (0.9%, 95.7%)  fgets:
    5,600,051  (0.7%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iofgets.c
    1,200,011  (0.2%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/libioP.h

>   6,694,732  (0.9%, 96.6%)  round_and_return:
    5,615,428  (0.7%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/strtod_l.c
      998,920  (0.1%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/generic/get-rounding-mode.h

>   6,411,973  (0.8%, 97.4%)  _IO_getline_info:
    5,910,836  (0.8%)           /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iogetline.c

>   4,466,000  (0.6%, 98.0%)  __mpn_lshift:/usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/x86_64/lshift.S

>   3,671,879  (0.5%, 98.5%)  __memcpy_avx_unaligned_erms:/usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S

>   2,100,021  (0.3%, 98.7%)  __strchr_avx2:/usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strchr-avx2.S

>   1,912,708  (0.2%, 99.0%)  __memchr_avx2:/usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memchr-avx2.S

>   1,598,272  (0.2%, 99.2%)  __mpn_construct_double:/usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/ieee754/dbl-64/mpn2dbl.c

>   1,428,924  (0.2%, 99.4%)  __strlen_avx2:/usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strlen-avx2.S

>   1,198,704  (0.2%, 99.5%)  round_away:/usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../include/rounding-mode.h

--------------------------------------------------------------------------------
-- Annotated source file: /home/acm/Documents/heig/HPC/lab/profiling/code/src/main.c
--------------------------------------------------------------------------------
Ir_________________ 

-- line 4 ----------------------------------------
          .          
          .          struct result {
          .            char city[100];
          .            int count;
          .            double sum, min, max;
          .          };
          .          
          .          static int getcity(const char *city, struct result results[], int nresults) {
 62,181,269  (8.0%)    for (int i = 0; i < nresults; i++) {
144,952,995 (18.7%)      if (strcmp(results[i].city, city) == 0) {
          .                return i;
          .              }
          .            }
          .          
          .            return -1;
          .          }
          .          
          .          static int cmp(const void *ptr_a, const void *ptr_b) {
      3,060  (0.0%)    return strcmp(((struct result *)ptr_a)->city, ((struct result *)ptr_b)->city);
          .          }
          .          
          6  (0.0%)  int main(int argc, const char **argv) {
          .            const char *file = "measurements.txt";
          2  (0.0%)    if (argc > 1) {
          .              file = argv[1];
          .            }
          .          
          3  (0.0%)    FILE *fh = fopen(file, "r");
          2  (0.0%)    if (!fh) {
          .              perror("error opening file");
          .              exit(EXIT_FAILURE);
          .            }
          .          
          .            struct result results[450];
          3  (0.0%)    int nresults = 0;
          .            char buf[1 << 10];
    600,006  (0.1%)    while (fgets(buf, 1 << 10, fh)) {
    300,000  (0.0%)      char *pos = strchr(buf, ';');
    100,000  (0.0%)      *pos = 0x0;
    400,000  (0.1%)      double measurement = strtod(pos + 1, NULL);
          .          
          .              int c = getcity(buf, results, nresults);
          .              if (c < 0) {
      1,652  (0.0%)        strcpy(results[nresults].city, buf);
        826  (0.0%)        results[nresults].sum = measurement;
        826  (0.0%)        results[nresults].max = measurement;
          .                results[nresults].min = measurement;
        413  (0.0%)        results[nresults].count = 1;
      1,239  (0.0%)        nresults++;
          .              } else {
    597,522  (0.1%)        results[c].sum += measurement;
     99,587  (0.0%)        results[c].count += 1;
    298,761  (0.0%)        if (results[c].min > measurement) {
      2,080  (0.0%)          results[c].min = measurement;
          .                }
    398,348  (0.1%)        if (results[c].max < measurement) {
      4,238  (0.0%)          results[c].max = measurement;
          .                }
          .              }
          .            }
          .          
          5  (0.0%)    qsort(results, (size_t)nresults, sizeof(*results), cmp);
          .          
      1,245  (0.0%)    for (int i = 0; i < nresults; i++) {
      4,543  (0.0%)      printf("%s=%.1f/%.1f/%.1f%s", results[i].city, results[i].min,
          .                     results[i].sum / results[i].count, results[i].max,
          .                     i < nresults ? ", " : "");
          .            }
          2  (0.0%)    puts("\n");
          .          
          2  (0.0%)    fclose(fh);
         10  (0.0%)  

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iofgets.c
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iofgets.c

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iogetline.c
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/iogetline.c

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/libioP.h
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/libio/libioP.h

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../include/rounding-mode.h
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../include/rounding-mode.h

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../string/bits/string_fortified.h
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../string/bits/string_fortified.h

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/generic/get-rounding-mode.h
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/generic/get-rounding-mode.h

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/ieee754/dbl-64/mpn2dbl.c
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/ieee754/dbl-64/mpn2dbl.c

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/x86_64/lshift.S
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/../sysdeps/x86_64/lshift.S

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/strtod_l.c
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/stdlib/strtod_l.c

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memchr-avx2.S
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memchr-avx2.S

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strchr-avx2.S
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strchr-avx2.S

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strcmp-avx2.S
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strcmp-avx2.S

--------------------------------------------------------------------------------
-- Annotated source file: /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strlen-avx2.S
--------------------------------------------------------------------------------
Unannotated because one or more of these original files are unreadable:
- /usr/src/debug/glibc-2.41-5.fc42.x86_64/string/../sysdeps/x86_64/multiarch/strlen-avx2.S

--------------------------------------------------------------------------------
-- Annotation summary
--------------------------------------------------------------------------------
Ir_________________ 

209,948,645 (27.1%)    annotated: files known & above threshold & readable, line numbers known
          0            annotated: files known & above threshold & readable, line numbers unknown
          0          unannotated: files known & above threshold & two or more non-identical
539,634,698 (69.6%)  unannotated: files known & above threshold & unreadable 
  3,296,950  (0.4%)  unannotated: files known & below threshold
 21,977,128  (2.8%)  unannotated: files unknown

